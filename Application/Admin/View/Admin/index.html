<extend name="Public:base" />
<block name="title">管理员列表</block>
<block name="content">
    <style>
        @media (max-width: 768px) {
            .table-responsive { display: none; }
            .mobile-card-list { display: block !important; }
            .search-form {
                margin-bottom: 20px; display: flex; gap: 10px; align-items: center;
            }
            .search-form input[type="text"] {
                flex: 1; font-size: 16px; padding: 12px;
                border-radius: 8px; border: 1px solid #ddd; margin: 0;
            }
            .search-form .btn {
                width: auto !important; font-size: 16px;
                padding: 12px 20px; margin: 0; border-radius: 8px;
            }
        }
        @media (min-width: 769px) { .mobile-card-list { display: none !important; } }
        .mobile-card {
            background: #fff; border-radius: 12px; padding: 16px;
            margin-bottom: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .mobile-card-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #f0f0f0;
        }
        .mobile-card-username { font-weight: 600; font-size: 16px; }
        .mobile-card-row { display: flex; justify-content: space-between; padding: 4px 0; font-size: 14px; }
        .mobile-card-label { color: #888; }
        .mobile-card-actions { margin-top: 10px; padding-top: 10px; border-top: 1px solid #f0f0f0; }
        .status-badge {
            display: inline-block; padding: 2px 10px; border-radius: 12px; font-size: 12px; color: #fff;
        }
        .status-active { background: #10b981; }
        .status-disabled { background: #ef4444; }
        .status-unverified { background: #f59e0b; }
    </style>

    <div class="page-header"><h1>管理员列表</h1></div>

    <!-- 搜索 -->
    <form class="search-form" method="get" action="{:U('Admin/Admin/index')}">
        <input type="text" name="word" value="{$Think.get.word}" placeholder="搜索用户名...">
        <button type="submit" class="btn btn-primary">搜索</button>
    </form>
<!-- 桌面端表格 -->
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th width="5%">ID</th>
                    <th width="20%">用户名</th>
                    <th width="20%">邮箱</th>
                    <th width="15%">状态</th>
                    <th width="20%">注册时间</th>
                </tr>
            </thead>
            <tbody>
                <volist name="data" id="v">
                <tr>
                    <td>{$v.id}</td>
                    <td>{$v.username}</td>
                    <td>{$v.email|default='—'}</td>
                    <td>
                        <if condition="$v.status eq 1">
                            <span class="status-badge status-active">正常</span>
                        <elseif condition="$v.status eq 0"/>
                            <span class="status-badge status-disabled">禁用</span>
                        <else/>
                            <span class="status-badge status-unverified">未验证</span>
                        </if>
                    </td>
                    <td>{$v.register_time|date='Y-m-d H:i',###}</td>
                </tr>
                </volist>
                <notempty name="data">
                <else/>
                <tr><td colspan="5" style="text-align:center; padding:30px; color:#999;">暂无管理员数据</td></tr>
                </notempty>
            </tbody>
        </table>
    </div>

    <!-- 手机端卡片 -->
    <div class="mobile-card-list">
        <volist name="data" id="v">
        <div class="mobile-card">
            <div class="mobile-card-header">
                <span class="mobile-card-username">{$v.username}</span>
                <if condition="$v.status eq 1">
                    <span class="status-badge status-active">正常</span>
                <elseif condition="$v.status eq 0"/>
                    <span class="status-badge status-disabled">禁用</span>
                <else/>
                    <span class="status-badge status-unverified">未验证</span>
                </if>
            </div>
            <div class="mobile-card-row">
                <span class="mobile-card-label">ID</span>
                <span>{$v.id}</span>
            </div>
            <div class="mobile-card-row">
                <span class="mobile-card-label">邮箱</span>
                <span>{$v.email|default='—'}</span>
            </div>
            <div class="mobile-card-row">
                <span class="mobile-card-label">注册时间</span>
                <span>{$v.register_time|date='Y-m-d H:i',###}</span>
            </div>
        </div>
        </volist>
        <notempty name="data">
        <else/>
        <div style="text-align:center; padding:30px; color:#999;">暂无管理员数据</div>
        </notempty>
    </div>

    <!-- 分页 -->
    <div style="text-align:center; margin-top:20px;">
        {$page}
    </div>
</block>
